<!-- login.html -->
<div class="login-container">
  <div class="login-card">
    <h3 class="login-title">Iniciar Sesión</h3>
    
    <!-- Mensaje de error general -->
    <div *ngIf="errorMessage" class="alert alert-error">
      {{ errorMessage }}
    </div>
    
    <!-- Indicador de carga -->
    <div *ngIf="isLoading" class="alert alert-loading">
      <div class="spinner"></div>
      Iniciando sesión...
    </div>
    
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <div class="form-group">
        <label class="form-label" for="email">Correo Electrónico</label>
        <input 
          id="email" 
          type="email" 
          placeholder="ejemplo@correo.com"
          autocomplete="email"
          class="form-input"
          [class.error]="loginForm.get('email')?.errors && loginForm.get('email')?.touched"
          formControlName="email">
        
        <!-- Errores específicos del email -->
        <div *ngIf="getFieldError('email')" class="field-error">
          {{ getFieldError('email') }}
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label" for="password">Contraseña</label>
        <input 
          id="password" 
          type="password" 
          placeholder="Ingresa tu contraseña"
          autocomplete="current-password"
          class="form-input"
          [class.error]="loginForm.get('password')?.errors && loginForm.get('password')?.touched"
          formControlName="password">
        
        <!-- Errores específicos de la contraseña -->
        <div *ngIf="getFieldError('password')" class="field-error">
          {{ getFieldError('password') }}
        </div>
      </div>
      
      <div class="form-footer">
        <button 
          [disabled]="loginForm.invalid || isLoading" 
          type="submit"
          class="btn btn-primary">
          <span *ngIf="isLoading" class="spinner"></span>
          {{ isLoading ? 'Iniciando...' : 'Iniciar Sesión' }}
        </button>
        <a href="#" class="forgot-password">¿Olvidaste la contraseña?</a>
      </div>
    </form>
  </div>
</div>